(()=>{"use strict";const e=function(){function e(e,t,n,o){void 0===t&&(t="div"),void 0===n&&(n=""),void 0===o&&(o="");var r=document.createElement(t);r.className=n,r.innerHTML=o,e&&e.append(r),this.node=r}return e.prototype.destroy=function(){this.node.remove()},e}();var t,n=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)});const o=function(e){function t(t,n){return e.call(this,t,"div","page")||this}return n(t,e),t.prototype.updatePage=function(e){throw new Error("Method not implemented.")},t}(e);var r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const i=function(t){function n(n){var o=t.call(this,n)||this;return o.main=new e(o.node,"div","main-start-page"),o.boxBall=new e(o.main.node,"div","box-ball"),o.title=new e(o.main.node,"div","title-start-page",'Новогодняя игра <br/> "Наряди ёлку"'),o.startButton=new e(o.main.node,"button","start-button","Начать"),o.footer=new e(o.main.node,"footer","footer",'<span class="year-logo"> 2021 </span>\n      <a class = "github-logo" href="https://github.com/OValya">Valentina Frolina</a>\n      <a href="https://rs.school"><img src="./assets/svg/footer/rss_logo.svg" alt="rsschool-logo" >'),o.startButton.node.onclick=function(){o.onClick()},o}return r(n,t),n.prototype.onClick=function(){this.destroy(),window.location.href="#toys"},n}(o);var a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const c=function(t){function n(n,o,r,i,a){var c=t.call(this,n,"label","checkbox ".concat(r," ").concat(o))||this;return c.type=o,c.value=i,c.inputCheck=new e(c.node,"input"),c.inputCheck.node.type="checkbox",c.inputCheck.node.checked=a,c.inputCheck.node.onchange=function(){c.onCheck(o,i)},c}return a(n,t),n}(e);var u=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const s=function(e){function t(t,n,o,r,i){var a=e.call(this,t,"div","select-block",n)||this;return r.forEach((function(e,t){var n=i.includes(e.filterType);a.check=new c(a.node,o,e.type,e.filterType,n),a.check.onCheck=function(e,t){a.onCheck(e,t)}})),a}return u(t,e),t}(e);var l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=[{type:"ball",filterType:"шар"},{type:"bell",filterType:"колокольчик"},{type:"toy",filterType:"фигурка"},{type:"snowflake",filterType:"снежинка"},{type:"cone",filterType:"шишка"}],f=[{type:"white",filterType:"белый"},{type:"red",filterType:"красный"},{type:"blue",filterType:"синий"},{type:"yellow",filterType:"желтый"},{type:"green",filterType:"зелёный"}],y=[{type:"big",filterType:"большой"},{type:"medium",filterType:"средний"},{type:"small",filterType:"малый"}],h=function(e){function t(t,n,o){var r=e.call(this,t,"div","filter-block")||this;return r.blockTitle=document.createElement("h2"),r.blockTitle.textContent=n,r.node.append(r.blockTitle),r.formFilter=new s(r.node,"Форма:","shape",p,o.shape),r.formFilter.onCheck=function(e,t){r.onCheck(e,t)},r.colorFilter=new s(r.node,"Цвет:","color",f,o.color),r.colorFilter.onCheck=function(e,t){r.onCheck(e,t)},r.sizeFilter=new s(r.node,"Размер:","size",y,o.size),r.sizeFilter.onCheck=function(e,t){r.onCheck(e,t)},r}return l(t,e),t}(e);const d=h;var v=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const m=function(t){function n(n,o,r,i,a,c,u){var s=t.call(this,n,"div","double-range")||this;return s.minValueText=new e(s.node,"span","value-range"),s.containerRange=new e(s.node,"div","container-range"),s.inputUp=new e(s.containerRange.node,"input"),s.inputDown=new e(s.containerRange.node,"input"),s.inputUp.node.type="range",s.inputUp.node.min=r,s.inputUp.node.max=i,s.inputUp.node.step=a,s.inputUp.node.value=c,s.inputDown.node.type="range",s.inputDown.node.min=r,s.inputDown.node.max=i,s.inputDown.node.step=a,s.inputDown.node.value=u,s.maxValueText=new e(s.node,"span","value-range"),s.inputUp.node.oninput=function(){s.setGradient(),s.setValueToSpan(),+s.inputUp.node.value>+s.inputDown.node.value&&(s.inputDown.node.value=s.inputUp.node.value)},s.inputDown.node.oninput=function(){s.setGradient(),s.setValueToSpan(),+s.inputDown.node.value<+s.inputUp.node.value&&(s.inputUp.node.value=s.inputDown.node.value)},s.inputUp.node.onchange=function(){s.onChange(o,s.inputUp.node.value,s.inputDown.node.value)},s.inputDown.node.onchange=function(){console.log("max",s.inputDown.node.value),s.onChange(o,s.inputUp.node.value,s.inputDown.node.value)},s}return v(n,t),n.prototype.setValueToSpan=function(){this.maxValueText.node.textContent=this.inputDown.node.value,this.minValueText.node.textContent=this.inputUp.node.value},n.prototype.setGradient=function(){var e=100*(+this.inputUp.node.value-+this.inputUp.node.min)/(+this.inputUp.node.max-+this.inputUp.node.min),t=100*(+this.inputDown.node.value-+this.inputDown.node.min)/(+this.inputDown.node.max-+this.inputDown.node.min);this.inputUp.node.style.background="linear-gradient(90deg, #fff ".concat(e,"%, #f00 ").concat(e,"%, #f00 ").concat(t,"%, #fff ").concat(t,"%)"),this.inputDown.node.style.background="linear-gradient(90deg, #fff ".concat(e,"%, #f00 ").concat(e,"%, #f00 ").concat(t,"%, #fff ").concat(t,"%)")},n}(e);var w=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(t,n,o){var r=e.call(this,t,"div","filter-block")||this;r.blockTitle=document.createElement("h2"),r.blockTitle.textContent=n,r.node.append(r.blockTitle),r.rangeCount=new m(r.node,"count","0","12","1",o.count[0],o.count[1]);var i=new Event("input");return r.rangeCount.inputUp.node.dispatchEvent(i),r.rangeCount.inputDown.node.dispatchEvent(i),r.rangeCount.onChange=function(e,t,n){r.onChange(e,t,n)},r.rangeYears=new m(r.node,"year","1940","2020","10",o.year[0],o.year[1]),r.rangeYears.inputUp.node.dispatchEvent(i),r.rangeYears.inputDown.node.dispatchEvent(i),r.rangeYears.onChange=function(e,t,n){r.onChange(e,t,n)},r}return w(t,e),t}(e);const g=_;var b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const z=function(t){function n(n,o){var r=t.call(this,n,"div","card")||this;return r.title=new e(r.node,"h3","card-title","".concat(o.name)),r.num=o.num,r.descriptions=new e(r.node,"ul","card-description"),r.count=new e(r.descriptions.node,"li","","Количество: ".concat(o.count," шт.")),r.shape=new e(r.descriptions.node,"li","","Форма: ".concat(o.shape)),r.year=new e(r.descriptions.node,"li","","Год покупки: ".concat(o.year)),r.color=new e(r.descriptions.node,"li","","Цвет: ".concat(o.color)),r.size=new e(r.descriptions.node,"li","","Размер: ".concat(o.size)),r.favorite=new e(r.descriptions.node,"li","","Любимая: ".concat(o.favorite)),r.node.style.background="rgba(36, 197, 219, 0.15) url('./assets/toys/".concat(o.num,".png') no-repeat 100% 50%/40%"),r.select=new e(r.node,"div","select-img"),1==o.selected?r.select.node.classList.add("selected"):r.select.node.classList.contains("selected")&&r.select.node.classList.remove("selected"),r.node.onclick=function(){r.onSelect(r.num),1==o.selected?r.select.node.classList.add("selected"):r.select.node.classList.contains("selected")&&r.select.node.classList.remove("selected")},r}return b(n,t),n}(e);var O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const k=function(t){function n(n,o){var r=t.call(this,n,"div","card-box")||this;return r.blockTitle=new e(r.node,"h1","title-card-box","Коробка с игрушками"),console.log("toys",o),o.forEach((function(e){r.toyCard=new z(r.node,e),r.toyCard.onSelect=function(e){r.onSelect(e)}})),r}return O(n,t),n}(e);var C=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=["По названию от А до Я","По названию от Я до А","Сначала новые","Сначала старые"];const x=function(t){function n(n){var o=t.call(this,n,"div","filter-block")||this;new e(o.node,"h2","","Сортировка и поиск"),o.sortSelect=new e(o.node,"select","sort-select");for(var r=0;r<T.length;r++){var i=document.createElement("option");i.value=r.toString(),i.text=T[r],o.sortSelect.node.add(i)}return o.boxSearch=new e(o.node,"div","box-search"),o.searchInput=new e(o.boxSearch.node,"input","search"),o.searchInput.node.type="search",o.searchButton=new e(o.boxSearch.node,"button","search-button"),o.resetButton=new e(o.node,"button","reset-button","Сбросить фильтры"),o.resetButton.node.onclick=function(){o.onClick()},o}return C(n,t),n}(e);var j=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(t){function n(n,o,r){var i=t.call(this,n)||this;return i.filters=new e(i.node,"div","filter-section"),i.filterByValue=new d(i.filters.node,"Фильтр по значению",r),i.filterByValue.onCheck=function(e,t){i.onCheck(e,t)},i.filterByRange=new g(i.filters.node,"Фильтр по диапазону:",r),i.filterByRange.onChange=function(e,t,n){i.onChange(e,t,n)},i.sortBlock=new x(i.filters.node),i.sortBlock.onClick=function(){i.onReset()},i.cardBox=new k(i.node,o),i.cardBox.onSelect=function(e){i.onSelect(e)},i}return j(n,t),n.prototype.updatePage=function(e){var t=this;console.log("fdlkfjakl"),this.cardBox.destroy(),this.cardBox=new k(this.node,e),this.cardBox.onSelect=function(e){t.onSelect(e)}},n}(o);const V=P;var S=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const D=function(t){function n(n){var o=t.call(this,n)||this;return new e(o.node,"div","","Ёлки"),o}return S(n,t),n}(o);var E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const U=function(t){function n(n){var o=t.call(this,n,"div","route-box")||this;return o.homeLink=new e(o.node,"a","link","Главная"),o.homeLink.node.href="#home",o.toysLink=new e(o.node,"a","link","Игрушки"),o.toysLink.node.href="#toys",o.treesLink=new e(o.node,"a","link","Ёлочки"),o.treesLink.node.href="#trees",o.selectedToys=new e(o.node,"div","selected-toys-counter","0"),o}return E(n,t),n}(e);var B={shape:[],color:[],size:[],count:["0","12"],year:["1940","2020"]};const F=function(){function e(e){this.toys=e,this.loadFromLocalstorage()}return e.prototype.filtrateData=function(){var e=this,t=[],n=[],o=[];return 0==this.filterValues.shape.length&&0==this.filterValues.color.length&&0==this.filterValues.size.length?o=this.toys:(t=this.filterValues.shape.length?this.toys.filter((function(t){return!!e.filterValues.shape.includes(t.shape)})):this.toys,n=this.filterValues.color.length?t.filter((function(t){return!!e.filterValues.color.includes(t.color)})):t,o=this.filterValues.size.length?n.filter((function(t){return!!e.filterValues.size.includes(t.size)})):n),o.filter((function(t){return t.count>=+e.filterValues.count[0]&&t.count<=+e.filterValues.count[1]&&t.year>=+e.filterValues.year[0]&&t.year<=+e.filterValues.year[1]}))},e.prototype.selectToy=function(e){this.toys.map((function(t){t.num==e&&(t.selected=0==t.selected)}))},e.prototype.countSelectedToys=function(){var e=0;return this.toys.forEach((function(t){1==t.selected&&e++})),e},e.prototype.loadFromLocalstorage=function(){localStorage.getItem("filter")||(this.filterValues=B)},e.prototype.resetFilter=function(){this.filterValues={shape:[],color:[],size:[],count:["0","12"],year:["1940","2020"]},console.log("filtervalues",this.filterValues)},e.prototype.addFilterValue=function(e,t){this.filterValues[e].push(t)},e.prototype.removeFilterValue=function(e,t){var n=this.filterValues[e].indexOf(t);this.filterValues[e].splice(n,1)},e.prototype.changeFilterValue=function(e,t,n){this.filterValues[e][0]=t,this.filterValues[e][1]=n},e}(),M=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:!1},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:!0},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:!1},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:!1},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:!1},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:!0},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:!1},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:!0},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:!1},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:!1},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:!1},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:!0},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:!1},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:!1},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:!1},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:!1},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:!1},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:!1},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:!1},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:!1},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:!0}];var L=function(){function e(){}return e.prototype.loadData=function(){return M.map((function(e,t){var n=M[t];return{num:n.num,name:n.name,count:Number(n.count),year:Number(n.year),shape:n.shape,color:n.color,size:n.size,favorite:n.favorite,selected:!1}}))},e}(),A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();new(function(e){function t(t){var n=e.call(this,t)||this;return n.route=new U(n.node),n.pages={"#home":i,"#toys":V,"#trees":D},n.model=new L,n.dataToys=n.model.loadData(),n.filterModel=new F(n.dataToys),window.onpopstate=n.loadWindow.bind(n),n.loadWindow(),n}return A(t,e),t.prototype.createPage=function(){var e=this,t=this.filterModel.filtrateData(),n=this.filterModel.filterValues,o=new(this.pages[window.location.hash]||i)(this.node,t,n);o.onCheck=function(t,n){e.filterModel.filterValues[t].includes(n)?e.filterModel.removeFilterValue(t,n):e.filterModel.addFilterValue(t,n),o.updatePage(e.filterModel.filtrateData())},o.onChange=function(t,n,r){e.filterModel.changeFilterValue(t,n,r),o.updatePage(e.filterModel.filtrateData())},o.onReset=function(){e.filterModel.resetFilter(),o.destroy(),e.createPage()},o.onSelect=function(t){e.filterModel.selectToy(t),e.filterModel.countSelectedToys(),e.route.selectedToys.node.textContent=e.filterModel.countSelectedToys().toString(),o.updatePage(e.filterModel.filtrateData())},this.currentPage=o},t.prototype.loadWindow=function(){this.currentPage?(this.currentPage.destroy(),this.createPage()):this.createPage()},t}(e))(document.body)})();